<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css" />
    <title>Document</title>
  </head>
  <body>
    <div class="profile-container">
      <h1 class="title">Customer Profile</h1>

      <div class="profile-info">
        <!-- Customer information display -->
        <div class="profile-details">
          <img
            src="https://via.placeholder.com/150"
            alt="Profile Picture"
            class="profile-pic"
          />
          <div class="info">
            <h2>Customer Information</h2>
            <p>Name: John Doe</p>
            <p>Email: john@example.com</p>
            <!-- Add more customer details as needed -->
          </div>
        </div>
      </div>

      <div class="previous-bookings">
        <!-- Previous booked technicians -->
        <h2>Previous Bookings</h2>

        <!-- Booking 1 -->
        <div class="booking-item">
          <div class="tecntians">
            <div>
              <h3>Mamo Demsew</h3>
              <h5>Specialty: Dish Network technician</h5>
              <h5>Phone:+25184678397</h5>
              <h5>Email:mamodemsew@email.com</h5>
            </div>
            <div>
              <p>Date: January 1, 2023</p>
              <p>Booked Date: January 1, 2023</p>
              <p>Service Date: January 5, 2023</p>
              <p>Service Needed: Repair</p>
              <p>Problem Description: Description of the problem</p>
              <p>Service Location: Address</p>
              <p>Status: Pending</p>
            </div>
          </div>

          <!-- Buttons for editing, saving, and canceling -->
          <div class="booking-buttons">
            <button class="edit-button">Edit</button>
            <button class="save-button">Save</button>
            <button class="cancel-button">Cancel Booking</button>
          </div>
        </div>

        <!-- Add more booked technicians as required -->
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const editButton = document.querySelector(".edit-button");
        const saveButton = document.querySelector(".save-button");
        const cancelButton = document.querySelector(".cancel-button");
        const bookingItem = document.querySelector(".booking-item");

        let isEditing = false;
        let originalBookingData = null;

        editButton.addEventListener("click", function () {
          if (!isEditing) {
            // Enable editing
            enableEdit();
          }
        });

        saveButton.addEventListener("click", function () {
          if (isEditing) {
            // Save changes
            saveBookingData();
          }
        });

        cancelButton.addEventListener("click", function () {
          if (isEditing) {
            // Cancel editing
            cancelEditing();
          } else {
            // Cancel booking
            cancelBooking();
          }
        });

        function enableEdit() {
          // Store original booking data before editing
          originalBookingData = bookingItem.innerHTML;

          // Example: Enable editing by allowing contenteditable
          const fieldsToEdit = bookingItem.querySelectorAll("p");
          fieldsToEdit.forEach((field) => {
            field.contentEditable = true;
            field.classList.add("editable");
          });

          // Toggle buttons
          editButton.style.display = "none";
          saveButton.style.display = "inline-block";
          cancelButton.innerText = "Cancel Edit";

          isEditing = true;
        }

        function saveBookingData() {
          // Example: Save changes by updating data in an object or sending to a backend
          const editedFields = bookingItem.querySelectorAll(".editable");
          editedFields.forEach((field) => {
            field.contentEditable = false;
            field.classList.remove("editable");
          });

          // Toggle buttons back to initial state
          editButton.style.display = "inline-block";
          saveButton.style.display = "none";
          cancelButton.innerText = "Cancel Booking";

          isEditing = false;
        }

        function cancelEditing() {
          // Restore original booking data
          bookingItem.innerHTML = originalBookingData;

          // Toggle buttons back to initial state
          editButton.style.display = "inline-block";
          saveButton.style.display = "none";
          cancelButton.innerText = "Cancel Booking";

          isEditing = false;
        }

        function cancelBooking() {
          // Implement your logic to cancel the booking here
          // This function can perform actions like marking the booking as canceled in the backend or UI updates
          // For example, remove the booking entry or mark it as canceled
          console.log("Booking canceled.");
        }
      });
    </script>
  </body>
</html>
